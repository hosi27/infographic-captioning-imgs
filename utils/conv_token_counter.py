import tiktoken

# 토큰 인코더 설정 (GPT-4o 기준)
encoder = tiktoken.encoding_for_model("gpt-4o")

# 토큰을 셀 문장
text = """
{
        "id": "0681",
        "image": "0977.png",
        "conversations": [
            {
                "from": "human",
                "value": "<image>\n이 이미지는 무엇을 설명하고 있나요?"
            },
            {
                "from": "gpt",
                "value": "이 이미지는 공장에너지 관리시스템(FEMS), 온실가스 규제대응 및 관리시스템, 에너지 및 생산관리시스템(EMIS) 간의 관계를 나타내는 다이어그램입니다. 다이어그램에는 세 개의 주요 시스템이 각기 다른 상자에 표시되어 있으며, 이들 시스템 간의 상호 작용과 의사소통을 나타내는 여러 연결선이 그려져 있습니다.\n\n- 첫 번째 시스템은 '공장에너지 관리시스템 (FEMS)'로, 이는 온실가스 규제대응 및 관리시스템과 '온실가스 규제'라는 텍스트와 함께 단방향의 검은 점선으로 연결되어 있습니다.\n- 두 번째로, '온실가스 규제대응 및 관리시스템'은 에너지 및 생산관리시스템(EMIS)과 '생산관리'라는 텍스트를 가진 검은 점선으로 연결되어 있습니다.\n- 이어서 '에너지 및 생산관리시스템 (EMIS)'은 다시 공장에너지 관리시스템으로 '에너지 정보'라는 검은 점선과 함께 연결됩니다.\n- 또한, 공장에너지 관리시스템은 에너지 및 생산관리시스템과 쌍방향이 아닌 검은 실선으로 연결되어 있으며, 이 연결에는 '공장에너지 정보'라는 텍스트가 있습니다.\n- 마지막으로, 온실가스 규제대응 및 관리시스템은 공장에너지 관리시스템과 '온실가스 정보' 텍스트를 가진 검은 실선으로 연결되어 있습니다.\n\n각 연결은 다이어그램에서 시스템 간 정보 교환 및 다양한 관계를 나타내며, 이러한 상호작용은 전체 시스템의 통합된 작동을 도와줍니다."
            }
        ]
    },
"""

# 토큰 수 계산
token_count = len(encoder.encode(text))

print(f"총 토큰 수: {token_count}")
